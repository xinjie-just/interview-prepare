# 后段 1 次返回 10w 条数据如何渲染

1 次返回 10w 条数据，这个设计不太合理，一般一次分页返回比较少量的数据比较合理。

如果真要返回 10w 条数据：

浏览器要处理 10w 条数据 JS 计算没问题，不过 DOM 渲染会很卡。

**解决方法：**

1. 可以使用中间层处理这 10w 条数据，返回少量的数据。不过这个成本高，服务搭建服务端，需要开发、测试、监控、申请域名等一些工作。

2. 可以使用虚拟列表。

只展示可视区域的数据，其他地方用 div 元素撑起一个高度即可。当上划时，将上面的 DOM 销毁，下面的 DOM 创建。当下拉时，将上面的 DOM 创建，下面的 DOM 销毁。

这也是一个不太好实现的方案，因为存在那种每条数据占用尺寸不一样，下拉到顶了上划到底了如何处理等需要考虑的边界情况比较多，DOM 的频繁创建和销毁也需要不小的成本。尽量使用第三方库来实现。