# h5 页面如何进行首屏优化

移动端 H5 要结合 APP 能力去优化。

**性能优化要配合分析、统计、评分等手段去优化，优化目标和结果要明确**

**性能优化可以结合用户体验去优化，比如加入骨架屏，动画**

1. 路由懒加载

适用于 SPA （不适用于 MPA）。
路由拆分，优先保证首屏加载。

2. 服务端渲染 SSR

- 传统的前后端分离渲染页面复杂，通过服务端渲染，渲染页面简单，性能好。
- 传统的前后端分离，是先从服务端获取 HTML 和 JS ，然后通过 AJAX 获取数据，再将数据渲染到页面上。
- SSR 服务端渲染从服务端获取的 HTML 包括了数据，直接渲染。流程更简单。
- 如果是纯 H5 页面，服务端渲染 SSR 是性能终极解决方案。
- SSR 是一门古老的技术，JSP、ASP、PHP 等都是 SSR 技术，web1.0 时代就出现了。后来发现前端页面越来越大越来越重，才回过头来想起了服务端渲染。
- 可是我们都用了 VUE、React、Angular 框架，前后端分离了，所以又出现了基于 VUE、React 的服务端渲染框架。Next.js (React)，Nuxt.js（VUE）就是在

3. APP 预取

- 如果 H5 页面是嵌在 APP WebView 展示，可以使用 APP 预取。
- 用户访问列表页时，APP 预加载首屏内容。
- 用户进入 H5 页，直接从 APP 中获取内容，瞬间加载首屏内容。

4. 分页

- 针对列表页，初始只展示第一页，上划加载更多。

5. 图片懒加载 lazyLoad

- 针对详情页，首先只展示文本，图片懒加载。只不过先定义好图片的尺寸，避免重排。

6. Hybrid

- 提前将 HTML、CSS、JS 下载到 APP 内部。
- 在 APP WebView 中使用 file:// 协议加载页面文件。再用 AJAX 获取内容并展示（也可以结合 APP 预取）。

