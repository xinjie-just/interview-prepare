# Get 和 Post 请求的区别

`GET` 和 `POST` 请求是 HTTP 协议中的两种请求方式，它们之间存在以下区别：

1. 安全性：`GET` 请求的参数在 `URL` 中显示，因此不应用来传递敏感信息。
2. 数据传输：`GET` 请求的数据长度有限制（通常在 2048 字符以内），而 `POST` 请求的数据长度没有限制。
3. 数据类型：`GET` 请求只能发送 `ASCII` 字符，而 `POST` 请求可以发送多种数据类型，例如`JSON`、`XML` 等。
4. 浏览器行为：如果浏览器刷新或回退 `GET` 请求的页面，会对服务器发送一个新的请求，而 `POST` 请求则不会。
5. URL参数：`GET` 请求的参数会显示在 `URL` 中，可以被添加书签，而 `POST` 请求的参数不会显示在 `URL` 中，不能被添加书签。因为点击书签总是会触发GET请求，即便为 `POST` 请求添加了书签，最终点击书签发送的也是 `GET` 请求，导致请求体丢失，请求方法改变。
6. 请求次数：`GET` 请求产生一个 `TCP` 数据包，而 `POST` 请求产生两个 `TCP` 数据包。
7. 缓存：GET请求会被浏览器主动 `cache`，也会保留在浏览器的历史记录中，而 `POST` 请求不会被缓存，也不会保留在浏览器的历史记录中。

## 连环问：为什么 `GET` 请求产生一个 `TCP` 数据包，而 `POST` 请求产生两个 `TCP` 数据包

`GET` 和 `POST` 请求在 `TCP` 传输层上的表现是不同的。这是因为 `GET` 和 `POST` 请求在 `HTTP` 协议层面上的实现方式不同。

对于 `GET` 请求，浏览器会把 `HTTP header` 和 `data` 一并发送出去，服务端响应 `200`，请求成功，所以只产生一个 `TCP` 数据包。

而对于 `POST` 请求，浏览器会先发送 `HTTP header` 给服务端，告诉服务端等一下会有数据过来，服务端响应 `100 continue`，告诉浏览器我已经准备接收数据，浏览器再发送一个 `data` 给服务端，服务端响应 `200 ok`，请求成功，所以产生了两个 `TCP` 数据包。

客户端在发送一个包之前，往往会先探探路（通过发送一个包含 `Expect: 100-continue` 的 `header`），如果失败了就不用继续发送数据，从而避免了浪费资源。失败了就不会产生两个 `TCP` 数据包。
